### 代理与反向代理

解决跨域问题常用的解决方案有这两个：

- JSONP：利用script标签可跨域的特点，在跨域脚本中可以直接回调当前脚本的函数。
- CORS：服务器设置HTTP响应头中Access-Control-Allow-Origin的值，解除跨域限制。

但是这两个跨域方案都存在一个致命的缺陷，严重依赖后端的协助。开发中遇到的每一个接口都需要提前找后端进行特殊的处理。而且即使后端愿意帮忙，某些接口不是随便就能开放的（譬如已经在上线正式环境的接口）。无论如何，依赖后端协助的跨域解决方案都会在一定程度上限制前端开发的进度。

#### 代理

代理，也称正向代理，意思是一个位于客户端和目标服务器(target server)之间的服务器，为了从目标服务器取得内容，客户端向代理发送一个请求并指定目标(目标服务器)，然后代理向目标服务器转交请求并将获得的内容返回给客户端。

数据流程：

- 数据请求过程：浏览器-》代理服务器-》目标服务器
- 数据返回过程：目标服务器-》代理服务器-》浏览器


#### 反向代理

反向代理（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。

数据流程：

- 数据请求过程：浏览器-》【反向代理服务器-》处理数据的服务器】
- 数据返回过程：【处理数据的服务器-》反向代理服务器】-》浏览器

#### 比较

- 从用途上来讲：
    - 正向代理的典型用途是为在防火墙内的局域网客户端提供访问Internet的途径。正向代理还可以使用缓冲特性减少网络使用率。
    - 反向代理的典型用途是为后端的多台服务器提供负载平衡，或为后端较慢的服务器提供缓冲服务。
- 从安全性来讲：
    - 正向代理允许客户端通过它访问任意网站并且隐藏客户端自身，因此你必须采取安全措施以确保仅为经过授权的客户端提供服务。
    - 反向代理对外都是透明的，访问者并不知道自己访问的是一个代理。
- 从使用方来看：
    - 正向代理是浏览器端进行配置的，与服务器端无关，甚至可以对服务端隐藏。
    - 反向代理是服务器端配置的，对浏览器端是透明的。

