!function(t,e){"function"==typeof define&&(define.amd||define.cmd)?define(e):e().init()}(this,function(){return $.fn.selectMatch=function(t){var e="select",i="selected",a="disabled",s="active",n="reverse",r={prefix:"ui-",trigger:["change"]},l=$.extend({},r,t||{}),o=l.prefix+e,c=l.prefix.replace(/[a-z]/gi,""),d=function(t){var e=0,s="";return t.find("option").each(function(t){var n=[o+c+"datalist"+c+"li",this.className];this[i]&&(e=t,n.push(i)),this[a]&&n.push(a),s=s+'<li class="'+n.join(" ")+'" data-index='+t+">"+this.innerHTML+"</li>"}),{index:e,html:s}};return $(this).each(function(t,r){var h=$(this).hide().data(e);h||(h=$("<div></div>").on("click","a",function(){if($(r).prop(a))return!1;if(h.toggleClass(s),h.hasClass(s)){var t=h.find("ul"),e=t.offset().top+t.outerHeight()>Math.max($(document.body).height(),$(window).height());h[e?"addClass":"removeClass"](n);var l=h.data("scrollTop"),o=t.find("."+i);l&&l[1]==o.attr("data-index")&&l[2]==o.text()&&(t.scrollTop(l[0]),h.removeData("scrollTop"))}else h.removeClass(n)}).on("click","li",function(t,e){var a=$(this).attr("data-index"),n=$(this).parent().scrollTop();h.removeClass(s),h.data("scrollTop",[n,a,$(this).text()]),$(r).find("option").eq(a).get(0)[i]=!0,$(r).selectMatch(l),$.each(l.trigger,function(t,i){$(r).trigger(i,[e])})}),$(this).data(e,h),$(this).after(h),$(document).mouseup(function(t){var e=t.target;e&&h.hasClass(s)&&h.get(0)!==e&&0==h.get(0).contains(e)&&h.removeClass(s).removeClass(n)}));var f=d($(this)),u=$(this).find("option").eq(f.index);h.attr("class",r.className+" "+o).width($(this).outerWidth());var p='<a href="javascript:" class="'+o+c+'button"><span class="'+o+c+'text">'+u.html()+'</span><i class="'+o+c+'icon"></i></a>',v='<ul class="'+o+c+'datalist">'+f.html+"</ul>";h.html(p+v)})},{init:function(t,e){t=t||$("select"),t.selectMatch(e)}}});